---
import { Markdown } from "astro-remote";

import Default from "@layouts/Default.astro";

import Image from "@components/Markdown/Image.astro";
import CodeBlock from "@components/Markdown/CodeBlock.astro";

const PAGE_TITLE = `Astro README`;
const res = await fetch(
  "https://raw.githubusercontent.com/withastro/astro/main/README.md"
).then((r) => r.text());
---

<Default title={PAGE_TITLE}>
  <article>
    <Markdown content={res} components={{ img: Image, code: CodeBlock }} />
  </article>
</Default>

<style lang="scss">
  @import "https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css";
  
  article {
    color: white;
    line-height: 1.5rem;
    padding: 1rem;

    :global(img) {
      max-width: 100%;
      width: auto;
    }
    
    :global(h2) {
      font-size: 1.75rem;
      margin: 1.5em 0 .5em;
    }
    
    :global(a) {
      color: rgb(var(--accent));
      text-decoration: underline;
    }
  }
</style>
